{"version":3,"sources":["MediaStreamRecorder.min.js","C:/Users/RAKESH/AppData/Roaming/npm/node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["MediaStreamRecorder","mediaStream","start","timeSlice","Recorder","MediaRecorder","MediaRecorderWrapper","IsChrome","IsOpera","IsEdge","mimeType","indexOf","WhammyRecorder","StereoAudioRecorder","GifRecorder","recorderType","mediaRecorder","blobs","self","ondataavailable","data","push","onstop","onStartedDrawingNonBlankFrames","mergeProps","clearOldRecordedFrames","stop","blob","disableLogs","console","log","error","warn","save","file","fileName","ConcatenateBlobs","type","concatenatedBlob","invokeSaveAsDialog","pause","resume","MultiStreamRecorder","arrayOfMediaStreams","options","getVideoTracks","tracks","forEach","stream","track","MediaStream","mixer","video","width","height","frameInterval","MultiStreamsMixer","length","startDrawingFrames","previewStream","getMixedStream","prop","callback","clearRecordedData","releaseStreams","addStreams","addStream","streams","Array","concat","appendStreams","resetVideoStreams","name","toString","drawVideosToCanvas","isStopDrawingFrames","videosLength","videos","fullcanvas","remaining","canvas","HTMLVideoElement","drawImage","idx","setTimeout","x","y","left","top","context","onRender","mixedVideoStream","getMixedVideoStream","mixedAudioStream","getMixedAudioStream","getAudioTracks","addTrack","capturedStream","captureStream","mozCaptureStream","videoStream","Storage","AudioContextConstructor","AudioContext","audioContext","audioSources","useGainNode","gainNode","createGain","connect","destination","gain","value","audioTracksLength","audioSource","createMediaStreamSource","audioDestination","createMediaStreamDestination","getVideo","document","createElement","srcObject","src","URL","createObjectURL","muted","volume","play","getContext","style","body","documentElement","appendChild","window","webkitAudioContext","mozAudioContext","webkitURL","navigator","getUserMedia","webkitGetUserMedia","mozGetUserMedia","webkitMediaStream","prototype","getTracks","kind","disconnect","source","clearRect","mergein","mergeto","t","dropFirstFrame","arr","shift","e","fileExtension","split","splitted","fileFullName","Math","round","random","msSaveOrOpenBlob","msSaveBlob","hyperlink","href","target","download","onclick","removeChild","evt","MouseEvent","view","bubbles","cancelable","dispatchEvent","revokeObjectURL","bytesToSize","bytes","k","sizes","i","parseInt","floor","pow","toPrecision","isMediaRecorderCompatible","isOpera","opera","userAgent","isChrome","chrome","isFirefox","InstallTrigger","verOffset","ix","nAgt","appVersion","fullVersion","parseFloat","majorVersion","substring","isNaN","isMediaStreamActive","active","ended","__disableLogs","dontFireOnDataAvailableEvent","recorderHints","canRecordMimeType","ignoreMutedMedia","firedOnDataAvailableOnce","size","getNativeBlob","Blob","state","onerror","requestData","timeslice","looper","StereoAudioRecorderHelper","record","timeout","setInterval","clearTimeout","root","interleave","leftChannel","rightChannel","result","Float32Array","inputIndex","index","mergeBuffers","channelBuffer","recordingLength","offset","lng","buffer","set","writeUTFBytes","string","setUint8","charCodeAt","convertoFloat32ToInt16","l","buf","Int16Array","deviceSampleRate","ObjectStore","sampleRate","scriptprocessornode","audioInput","leftchannel","rightchannel","recording","isPCM","numChannels","audioChannels","isPaused","requestDataInvoked","internalLeftChannel","slice","internalRightChannel","internalRecordingLength","leftBuffer","interleaved","rightBuffer","debug","ArrayBuffer","DataView","setUint32","setUint16","setInt16","VolumeGainNode","AudioInput","bufferSize","createJavaScriptNode","createScriptProcessor","onaudioprocess","inputBuffer","getChannelData","right","WhammyRecorderHelper","drawFrames","lastTime","Date","getTime","isStopDrawing","duration","isHTMLObject","paused","whammy","frames","image","toDataURL","isOnStartedDrawingNonBlankFramesInvoked","isBlankFrame","frame","_pixTolerance","_frameTolerance","localCanvas","matchPixCount","endPixCheck","maxPixCount","context2d","sampleColor","r","g","b","maxColorDifference","sqrt","pixTolerance","frameTolerance","Image","imageData","getImageData","pix","currentColor","colorDifference","dropBlackFrames","_frames","_framesToCheck","resultFrames","checkUntilNotBlack","endCheckFrame","doNotCheckNext","f","videoWidth","clientWidth","videoHeight","clientHeight","cloneNode","Whammy","Video","speed","quality","internalFrames","compile","whammyBlob","doneRecording","endTime","now","gifBlob","Uint8Array","gifEncoder","bin","GIFEncoder","drawVideoFrame","time","lastAnimationFrame","requestAnimationFrame","lastFrameTime","imageWidth","imageHeight","addFrame","setRepeat","setDelay","frameRate","setQuality","startTime","cancelAnimationFrame","autoplay","browserFakeUserAgent","that","global","location","protocol","hash","screen","WhammyVideo","processInWebWorker","_function","worker","Worker","whammyInWebWorker","ArrayToWebM","info","checkFrames","clusterMaxDuration","EBML","id","doubleToString","frameNumber","clusterTimecode","clusterFrames","clusterDuration","clusterCounter","cluster","getClusterData","generateEBML","map","webp","block","makeSimpleBlock","discardable","invisible","keyframe","lacing","trackNum","timecode","postMessage","numToBuffer","num","parts","reverse","strToBuffer","str","bitsToBuffer","bits","pad","join","substr","json","ebml","len","byteLength","zeroes","ceil","sizeToString","padded","flags","out","String","fromCharCode","parseWebP","riff","VP8","RIFF","WEBP","frameStart","c","tmp","getStrLength","unpadded","parseRIFF","chunks","call","Float64Array","webm","atob","add","test","webWorker","onmessage","event","readAsArrayBuffer","concatenateBuffers","reader","FileReader","onload","buffers","Uint16Array","lastOffset","reusableByteLength","module","exports","define","amd","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","ws","JSON","parse","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","parcelRequire","every","generated","js","clear","hmrApply","v","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","getElementById","remove","stackTrace","innerText","innerHTML","getParents","modules","parents","d","dep","isArray","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"MediaStreamRecorder.min.26ec8d67.js","sourceRoot":"..","sourcesContent":["'use strict';\n\n// Last time updated: 2017-08-31 4:03:23 AM UTC\n\n// __________________________\n// MediaStreamRecorder v1.3.4\n\n// Open-Sourced: https://github.com/streamproc/MediaStreamRecorder\n\n// --------------------------------------------------\n// Muaz Khan     - www.MuazKhan.com\n// MIT License   - www.WebRTC-Experiment.com/licence\n// --------------------------------------------------\n\n\"use strict\";function MediaStreamRecorder(mediaStream){if(!mediaStream)throw\"MediaStream is mandatory.\";this.start=function(timeSlice){var Recorder;\"undefined\"!=typeof MediaRecorder?Recorder=MediaRecorderWrapper:(IsChrome||IsOpera||IsEdge)&&(this.mimeType.indexOf(\"video\")!==-1?Recorder=WhammyRecorder:this.mimeType.indexOf(\"audio\")!==-1&&(Recorder=StereoAudioRecorder)),\"image/gif\"===this.mimeType&&(Recorder=GifRecorder),\"audio/wav\"!==this.mimeType&&\"audio/pcm\"!==this.mimeType||(Recorder=StereoAudioRecorder),this.recorderType&&(Recorder=this.recorderType),mediaRecorder=new Recorder(mediaStream),mediaRecorder.blobs=[];var self=this;mediaRecorder.ondataavailable=function(data){mediaRecorder.blobs.push(data),self.ondataavailable(data)},mediaRecorder.onstop=this.onstop,mediaRecorder.onStartedDrawingNonBlankFrames=this.onStartedDrawingNonBlankFrames,mediaRecorder=mergeProps(mediaRecorder,this),mediaRecorder.start(timeSlice)},this.onStartedDrawingNonBlankFrames=function(){},this.clearOldRecordedFrames=function(){mediaRecorder&&mediaRecorder.clearOldRecordedFrames()},this.stop=function(){mediaRecorder&&mediaRecorder.stop()},this.ondataavailable=function(blob){this.disableLogs||console.log(\"ondataavailable..\",blob)},this.onstop=function(error){console.warn(\"stopped..\",error)},this.save=function(file,fileName){if(!file){if(!mediaRecorder)return;return void ConcatenateBlobs(mediaRecorder.blobs,mediaRecorder.blobs[0].type,function(concatenatedBlob){invokeSaveAsDialog(concatenatedBlob)})}invokeSaveAsDialog(file,fileName)},this.pause=function(){mediaRecorder&&(mediaRecorder.pause(),this.disableLogs||console.log(\"Paused recording.\",this.mimeType||mediaRecorder.mimeType))},this.resume=function(){mediaRecorder&&(mediaRecorder.resume(),this.disableLogs||console.log(\"Resumed recording.\",this.mimeType||mediaRecorder.mimeType))},this.recorderType=null,this.mimeType=\"video/webm\",this.disableLogs=!1;var mediaRecorder}function MultiStreamRecorder(arrayOfMediaStreams,options){function getVideoTracks(){var tracks=[];return arrayOfMediaStreams.forEach(function(stream){stream.getVideoTracks().forEach(function(track){tracks.push(track)})}),tracks}arrayOfMediaStreams=arrayOfMediaStreams||[],arrayOfMediaStreams instanceof MediaStream&&(arrayOfMediaStreams=[arrayOfMediaStreams]);var mixer,mediaRecorder,self=this;options=options||{mimeType:\"video/webm\",video:{width:360,height:240}},options.frameInterval||(options.frameInterval=10),options.video||(options.video={}),options.video.width||(options.video.width=360),options.video.height||(options.video.height=240),this.start=function(timeSlice){mixer=new MultiStreamsMixer(arrayOfMediaStreams),getVideoTracks().length&&(mixer.frameInterval=options.frameInterval||10,mixer.width=options.video.width||360,mixer.height=options.video.height||240,mixer.startDrawingFrames()),\"function\"==typeof self.previewStream&&self.previewStream(mixer.getMixedStream()),mediaRecorder=new MediaStreamRecorder(mixer.getMixedStream());for(var prop in self)\"function\"!=typeof self[prop]&&(mediaRecorder[prop]=self[prop]);mediaRecorder.ondataavailable=function(blob){self.ondataavailable(blob)},mediaRecorder.onstop=self.onstop,mediaRecorder.start(timeSlice)},this.stop=function(callback){mediaRecorder&&mediaRecorder.stop(function(blob){callback(blob)})},this.pause=function(){mediaRecorder&&mediaRecorder.pause()},this.resume=function(){mediaRecorder&&mediaRecorder.resume()},this.clearRecordedData=function(){mediaRecorder&&(mediaRecorder.clearRecordedData(),mediaRecorder=null),mixer&&(mixer.releaseStreams(),mixer=null)},this.addStreams=this.addStream=function(streams){if(!streams)throw\"First parameter is required.\";streams instanceof Array||(streams=[streams]),arrayOfMediaStreams.concat(streams),mediaRecorder&&mixer&&mixer.appendStreams(streams)},this.resetVideoStreams=function(streams){mixer&&(!streams||streams instanceof Array||(streams=[streams]),mixer.resetVideoStreams(streams))},this.ondataavailable=function(blob){self.disableLogs||console.log(\"ondataavailable\",blob)},this.onstop=function(){},this.name=\"MultiStreamRecorder\",this.toString=function(){return this.name}}function MultiStreamsMixer(arrayOfMediaStreams){function drawVideosToCanvas(){if(!isStopDrawingFrames){var videosLength=videos.length,fullcanvas=!1,remaining=[];videos.forEach(function(video){video.stream||(video.stream={}),video.stream.fullcanvas?fullcanvas=video:remaining.push(video)}),fullcanvas?(canvas.width=fullcanvas.stream.width,canvas.height=fullcanvas.stream.height):remaining.length?(canvas.width=videosLength>1?2*remaining[0].width:remaining[0].width,canvas.height=videosLength>2?2*remaining[0].height:remaining[0].height):(canvas.width=self.width||360,canvas.height=self.height||240),fullcanvas&&fullcanvas instanceof HTMLVideoElement&&drawImage(fullcanvas),remaining.forEach(function(video,idx){drawImage(video,idx)}),setTimeout(drawVideosToCanvas,self.frameInterval)}}function drawImage(video,idx){if(!isStopDrawingFrames){var x=0,y=0,width=video.width,height=video.height;1===idx&&(x=video.width),2===idx&&(y=video.height),3===idx&&(x=video.width,y=video.height),\"undefined\"!=typeof video.stream.left&&(x=video.stream.left),\"undefined\"!=typeof video.stream.top&&(y=video.stream.top),\"undefined\"!=typeof video.stream.width&&(width=video.stream.width),\"undefined\"!=typeof video.stream.height&&(height=video.stream.height),context.drawImage(video,x,y,width,height),\"function\"==typeof video.stream.onRender&&video.stream.onRender(context,x,y,width,height,idx)}}function getMixedStream(){isStopDrawingFrames=!1;var mixedVideoStream=getMixedVideoStream(),mixedAudioStream=getMixedAudioStream();mixedAudioStream&&mixedAudioStream.getAudioTracks().forEach(function(track){mixedVideoStream.addTrack(track)});var fullcanvas;return arrayOfMediaStreams.forEach(function(stream){stream.fullcanvas&&(fullcanvas=!0)}),mixedVideoStream}function getMixedVideoStream(){resetVideoStreams();var capturedStream;\"captureStream\"in canvas?capturedStream=canvas.captureStream():\"mozCaptureStream\"in canvas?capturedStream=canvas.mozCaptureStream():self.disableLogs||console.error(\"Upgrade to latest Chrome or otherwise enable this flag: chrome://flags/#enable-experimental-web-platform-features\");var videoStream=new MediaStream;return capturedStream.getVideoTracks().forEach(function(track){videoStream.addTrack(track)}),canvas.stream=videoStream,videoStream}function getMixedAudioStream(){Storage.AudioContextConstructor||(Storage.AudioContextConstructor=new Storage.AudioContext),self.audioContext=Storage.AudioContextConstructor,self.audioSources=[],self.useGainNode===!0&&(self.gainNode=self.audioContext.createGain(),self.gainNode.connect(self.audioContext.destination),self.gainNode.gain.value=0);var audioTracksLength=0;if(arrayOfMediaStreams.forEach(function(stream){if(stream.getAudioTracks().length){audioTracksLength++;var audioSource=self.audioContext.createMediaStreamSource(stream);self.useGainNode===!0&&audioSource.connect(self.gainNode),self.audioSources.push(audioSource)}}),audioTracksLength)return self.audioDestination=self.audioContext.createMediaStreamDestination(),self.audioSources.forEach(function(audioSource){audioSource.connect(self.audioDestination)}),self.audioDestination.stream}function getVideo(stream){var video=document.createElement(\"video\");return\"srcObject\"in video?video.srcObject=stream:video.src=URL.createObjectURL(stream),video.muted=!0,video.volume=0,video.width=stream.width||self.width||360,video.height=stream.height||self.height||240,video.play(),video}function resetVideoStreams(streams){videos=[],streams=streams||arrayOfMediaStreams,streams.forEach(function(stream){if(stream.getVideoTracks().length){var video=getVideo(stream);video.stream=stream,videos.push(video)}})}var videos=[],isStopDrawingFrames=!1,canvas=document.createElement(\"canvas\"),context=canvas.getContext(\"2d\");canvas.style=\"opacity:0;position:absolute;z-index:-1;top: -100000000;left:-1000000000; margin-top:-1000000000;margin-left:-1000000000;\",(document.body||document.documentElement).appendChild(canvas),this.disableLogs=!1,this.frameInterval=10,this.width=360,this.height=240,this.useGainNode=!0;var self=this,AudioContext=window.AudioContext;\"undefined\"==typeof AudioContext&&(\"undefined\"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),\"undefined\"!=typeof mozAudioContext&&(AudioContext=mozAudioContext));var URL=window.URL;\"undefined\"==typeof URL&&\"undefined\"!=typeof webkitURL&&(URL=webkitURL),\"undefined\"!=typeof navigator&&\"undefined\"==typeof navigator.getUserMedia&&(\"undefined\"!=typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),\"undefined\"!=typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia));var MediaStream=window.MediaStream;\"undefined\"==typeof MediaStream&&\"undefined\"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),\"undefined\"!=typeof MediaStream&&(\"getVideoTracks\"in MediaStream.prototype||(MediaStream.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var tracks=[];return this.getTracks.forEach(function(track){track.kind.toString().indexOf(\"video\")!==-1&&tracks.push(track)}),tracks},MediaStream.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var tracks=[];return this.getTracks.forEach(function(track){track.kind.toString().indexOf(\"audio\")!==-1&&tracks.push(track)}),tracks}),\"undefined\"==typeof MediaStream.prototype.stop&&(MediaStream.prototype.stop=function(){this.getTracks().forEach(function(track){track.stop()})}));var Storage={};\"undefined\"!=typeof AudioContext?Storage.AudioContext=AudioContext:\"undefined\"!=typeof webkitAudioContext&&(Storage.AudioContext=webkitAudioContext),this.startDrawingFrames=function(){drawVideosToCanvas()},this.appendStreams=function(streams){if(!streams)throw\"First parameter is required.\";streams instanceof Array||(streams=[streams]),arrayOfMediaStreams.concat(streams),streams.forEach(function(stream){if(stream.getVideoTracks().length){var video=getVideo(stream);video.stream=stream,videos.push(video)}if(stream.getAudioTracks().length&&self.audioContext){var audioSource=self.audioContext.createMediaStreamSource(stream);audioSource.connect(self.audioDestination),self.audioSources.push(audioSource)}})},this.releaseStreams=function(){videos=[],isStopDrawingFrames=!0,self.gainNode&&(self.gainNode.disconnect(),self.gainNode=null),self.audioSources.length&&(self.audioSources.forEach(function(source){source.disconnect()}),self.audioSources=[]),self.audioDestination&&(self.audioDestination.disconnect(),self.audioDestination=null),self.audioContext=null,context.clearRect(0,0,canvas.width,canvas.height),canvas.stream&&(canvas.stream.stop(),canvas.stream=null)},this.resetVideoStreams=function(streams){!streams||streams instanceof Array||(streams=[streams]),resetVideoStreams(streams)},this.name=\"MultiStreamsMixer\",this.toString=function(){return this.name},this.getMixedStream=getMixedStream}function mergeProps(mergein,mergeto){for(var t in mergeto)\"function\"!=typeof mergeto[t]&&(mergein[t]=mergeto[t]);return mergein}function dropFirstFrame(arr){return arr.shift(),arr}function invokeSaveAsDialog(file,fileName){if(!file)throw\"Blob object is required.\";if(!file.type)try{file.type=\"video/webm\"}catch(e){}var fileExtension=(file.type||\"video/webm\").split(\"/\")[1];if(fileName&&fileName.indexOf(\".\")!==-1){var splitted=fileName.split(\".\");fileName=splitted[0],fileExtension=splitted[1]}var fileFullName=(fileName||Math.round(9999999999*Math.random())+888888888)+\".\"+fileExtension;if(\"undefined\"!=typeof navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(file,fileFullName);if(\"undefined\"!=typeof navigator.msSaveBlob)return navigator.msSaveBlob(file,fileFullName);var hyperlink=document.createElement(\"a\");hyperlink.href=URL.createObjectURL(file),hyperlink.target=\"_blank\",hyperlink.download=fileFullName,navigator.mozGetUserMedia&&(hyperlink.onclick=function(){(document.body||document.documentElement).removeChild(hyperlink)},(document.body||document.documentElement).appendChild(hyperlink));var evt=new MouseEvent(\"click\",{view:window,bubbles:!0,cancelable:!0});hyperlink.dispatchEvent(evt),navigator.mozGetUserMedia||URL.revokeObjectURL(hyperlink.href)}function bytesToSize(bytes){var k=1e3,sizes=[\"Bytes\",\"KB\",\"MB\",\"GB\",\"TB\"];if(0===bytes)return\"0 Bytes\";var i=parseInt(Math.floor(Math.log(bytes)/Math.log(k)),10);return(bytes/Math.pow(k,i)).toPrecision(3)+\" \"+sizes[i]}function isMediaRecorderCompatible(){var isOpera=!!window.opera||navigator.userAgent.indexOf(\" OPR/\")>=0,isChrome=!!window.chrome&&!isOpera,isFirefox=\"undefined\"!=typeof window.InstallTrigger;if(isFirefox)return!0;if(!isChrome)return!1;var verOffset,ix,nAgt=(navigator.appVersion,navigator.userAgent),fullVersion=\"\"+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10);return isChrome&&(verOffset=nAgt.indexOf(\"Chrome\"),fullVersion=nAgt.substring(verOffset+7)),(ix=fullVersion.indexOf(\";\"))!==-1&&(fullVersion=fullVersion.substring(0,ix)),(ix=fullVersion.indexOf(\" \"))!==-1&&(fullVersion=fullVersion.substring(0,ix)),majorVersion=parseInt(\"\"+fullVersion,10),isNaN(majorVersion)&&(fullVersion=\"\"+parseFloat(navigator.appVersion),majorVersion=parseInt(navigator.appVersion,10)),majorVersion>=49}function MediaRecorderWrapper(mediaStream){function isMediaStreamActive(){if(\"active\"in mediaStream){if(!mediaStream.active)return!1}else if(\"ended\"in mediaStream&&mediaStream.ended)return!1;return!0}var self=this;this.start=function(timeSlice,__disableLogs){if(this.timeSlice=timeSlice||5e3,self.mimeType||(self.mimeType=\"video/webm\"),self.mimeType.indexOf(\"audio\")!==-1&&mediaStream.getVideoTracks().length&&mediaStream.getAudioTracks().length){var stream;navigator.mozGetUserMedia?(stream=new MediaStream,stream.addTrack(mediaStream.getAudioTracks()[0])):stream=new MediaStream(mediaStream.getAudioTracks()),mediaStream=stream}self.mimeType.indexOf(\"audio\")!==-1&&(self.mimeType=IsChrome?\"audio/webm\":\"audio/ogg\"),self.dontFireOnDataAvailableEvent=!1;var recorderHints={mimeType:self.mimeType};self.disableLogs||__disableLogs||console.log(\"Passing following params over MediaRecorder API.\",recorderHints),mediaRecorder&&(mediaRecorder=null),IsChrome&&!isMediaRecorderCompatible()&&(recorderHints=\"video/vp8\");try{mediaRecorder=new MediaRecorder(mediaStream,recorderHints)}catch(e){mediaRecorder=new MediaRecorder(mediaStream)}\"canRecordMimeType\"in mediaRecorder&&mediaRecorder.canRecordMimeType(self.mimeType)===!1&&(self.disableLogs||console.warn(\"MediaRecorder API seems unable to record mimeType:\",self.mimeType)),self.ignoreMutedMedia===!0&&(mediaRecorder.ignoreMutedMedia=!0);var firedOnDataAvailableOnce=!1;mediaRecorder.ondataavailable=function(e){if(e.data&&e.data.size&&!(e.data.size<26800)&&!firedOnDataAvailableOnce){firedOnDataAvailableOnce=!0;var blob=self.getNativeBlob?e.data:new Blob([e.data],{type:self.mimeType||\"video/webm\"});self.ondataavailable(blob),mediaRecorder&&\"recording\"===mediaRecorder.state&&mediaRecorder.stop(),mediaRecorder=null,self.dontFireOnDataAvailableEvent||self.start(timeSlice,\"__disableLogs\")}},mediaRecorder.onerror=function(error){self.disableLogs||(\"InvalidState\"===error.name?console.error(\"The MediaRecorder is not in a state in which the proposed operation is allowed to be executed.\"):\"OutOfMemory\"===error.name?console.error(\"The UA has exhaused the available memory. User agents SHOULD provide as much additional information as possible in the message attribute.\"):\"IllegalStreamModification\"===error.name?console.error(\"A modification to the stream has occurred that makes it impossible to continue recording. An example would be the addition of a Track while recording is occurring. User agents SHOULD provide as much additional information as possible in the message attribute.\"):\"OtherRecordingError\"===error.name?console.error(\"Used for an fatal error other than those listed above. User agents SHOULD provide as much additional information as possible in the message attribute.\"):\"GenericError\"===error.name?console.error(\"The UA cannot provide the codec or recording option that has been requested.\",error):console.error(\"MediaRecorder Error\",error)),mediaRecorder&&\"inactive\"!==mediaRecorder.state&&\"stopped\"!==mediaRecorder.state&&mediaRecorder.stop()};try{mediaRecorder.start(36e5)}catch(e){mediaRecorder=null}setTimeout(function(){mediaRecorder&&\"recording\"===mediaRecorder.state&&mediaRecorder.requestData()},timeSlice)},this.stop=function(callback){mediaRecorder&&\"recording\"===mediaRecorder.state&&(mediaRecorder.requestData(),setTimeout(function(){self.dontFireOnDataAvailableEvent=!0,mediaRecorder&&\"recording\"===mediaRecorder.state&&mediaRecorder.stop(),mediaRecorder=null,self.onstop()},2e3))},this.pause=function(){mediaRecorder&&(\"recording\"===mediaRecorder.state&&mediaRecorder.pause(),this.dontFireOnDataAvailableEvent=!0)},this.ondataavailable=function(blob){console.log(\"recorded-blob\",blob)},this.resume=function(){if(this.dontFireOnDataAvailableEvent){this.dontFireOnDataAvailableEvent=!1;var disableLogs=self.disableLogs;return self.disableLogs=!0,this.start(this.timeslice||5e3),void(self.disableLogs=disableLogs)}mediaRecorder&&\"paused\"===mediaRecorder.state&&mediaRecorder.resume()},this.clearRecordedData=function(){mediaRecorder&&(this.pause(),this.dontFireOnDataAvailableEvent=!0,this.stop())},this.onstop=function(){};var mediaRecorder;!function looper(){if(mediaRecorder)return isMediaStreamActive()===!1?void self.stop():void setTimeout(looper,1e3)}()}function StereoAudioRecorder(mediaStream){this.start=function(timeSlice){timeSlice=timeSlice||1e3,mediaRecorder=new StereoAudioRecorderHelper(mediaStream,this),mediaRecorder.record(),timeout=setInterval(function(){mediaRecorder.requestData()},timeSlice)},this.stop=function(){mediaRecorder&&(mediaRecorder.stop(),clearTimeout(timeout),this.onstop())},this.pause=function(){mediaRecorder&&mediaRecorder.pause()},this.resume=function(){mediaRecorder&&mediaRecorder.resume()},this.ondataavailable=function(){},this.onstop=function(){};var mediaRecorder,timeout}function StereoAudioRecorderHelper(mediaStream,root){function interleave(leftChannel,rightChannel){for(var length=leftChannel.length+rightChannel.length,result=new Float32Array(length),inputIndex=0,index=0;index<length;)result[index++]=leftChannel[inputIndex],result[index++]=rightChannel[inputIndex],inputIndex++;return result}function mergeBuffers(channelBuffer,recordingLength){for(var result=new Float32Array(recordingLength),offset=0,lng=channelBuffer.length,i=0;i<lng;i++){var buffer=channelBuffer[i];result.set(buffer,offset),offset+=buffer.length}return result}function writeUTFBytes(view,offset,string){for(var lng=string.length,i=0;i<lng;i++)view.setUint8(offset+i,string.charCodeAt(i))}function convertoFloat32ToInt16(buffer){for(var l=buffer.length,buf=new Int16Array(l);l--;)buf[l]=65535*buffer[l];return buf.buffer}var deviceSampleRate=44100;ObjectStore.AudioContextConstructor||(ObjectStore.AudioContextConstructor=new ObjectStore.AudioContext),deviceSampleRate=ObjectStore.AudioContextConstructor.sampleRate;var scriptprocessornode,volume,audioInput,context,leftchannel=[],rightchannel=[],recording=!1,recordingLength=0,sampleRate=root.sampleRate||deviceSampleRate,mimeType=root.mimeType||\"audio/wav\",isPCM=mimeType.indexOf(\"audio/pcm\")>-1,numChannels=root.audioChannels||2;this.record=function(){recording=!0,leftchannel.length=rightchannel.length=0,recordingLength=0},this.requestData=function(){if(!isPaused){if(0===recordingLength)return void(requestDataInvoked=!1);requestDataInvoked=!0;var internalLeftChannel=leftchannel.slice(0),internalRightChannel=rightchannel.slice(0),internalRecordingLength=recordingLength;leftchannel.length=rightchannel.length=[],recordingLength=0,requestDataInvoked=!1;var leftBuffer=mergeBuffers(internalLeftChannel,internalRecordingLength),interleaved=leftBuffer;if(2===numChannels){var rightBuffer=mergeBuffers(internalRightChannel,internalRecordingLength);interleaved=interleave(leftBuffer,rightBuffer)}if(isPCM){var blob=new Blob([convertoFloat32ToInt16(interleaved)],{type:\"audio/pcm\"});return console.debug(\"audio recorded blob size:\",bytesToSize(blob.size)),void root.ondataavailable(blob)}var buffer=new ArrayBuffer(44+2*interleaved.length),view=new DataView(buffer);writeUTFBytes(view,0,\"RIFF\"),view.setUint32(4,44+2*interleaved.length-8,!0),writeUTFBytes(view,8,\"WAVE\"),writeUTFBytes(view,12,\"fmt \"),view.setUint32(16,16,!0),view.setUint16(20,1,!0),view.setUint16(22,numChannels,!0),view.setUint32(24,sampleRate,!0),view.setUint32(28,sampleRate*numChannels*2,!0),view.setUint16(32,2*numChannels,!0),view.setUint16(34,16,!0),writeUTFBytes(view,36,\"data\"),view.setUint32(40,2*interleaved.length,!0);for(var lng=interleaved.length,index=44,volume=1,i=0;i<lng;i++)view.setInt16(index,interleaved[i]*(32767*volume),!0),index+=2;var blob=new Blob([view],{type:\"audio/wav\"});console.debug(\"audio recorded blob size:\",bytesToSize(blob.size)),root.ondataavailable(blob)}},this.stop=function(){recording=!1,this.requestData(),audioInput.disconnect(),this.onstop()};var context=ObjectStore.AudioContextConstructor;ObjectStore.VolumeGainNode=context.createGain();var volume=ObjectStore.VolumeGainNode;ObjectStore.AudioInput=context.createMediaStreamSource(mediaStream);var audioInput=ObjectStore.AudioInput;audioInput.connect(volume);var bufferSize=root.bufferSize||2048;if(0===root.bufferSize&&(bufferSize=0),context.createJavaScriptNode)scriptprocessornode=context.createJavaScriptNode(bufferSize,numChannels,numChannels);else{if(!context.createScriptProcessor)throw\"WebAudio API has no support on this browser.\";scriptprocessornode=context.createScriptProcessor(bufferSize,numChannels,numChannels)}bufferSize=scriptprocessornode.bufferSize,console.debug(\"using audio buffer-size:\",bufferSize);var requestDataInvoked=!1;window.scriptprocessornode=scriptprocessornode,1===numChannels&&console.debug(\"All right-channels are skipped.\");var isPaused=!1;this.pause=function(){isPaused=!0},this.resume=function(){isPaused=!1},this.onstop=function(){},scriptprocessornode.onaudioprocess=function(e){if(recording&&!requestDataInvoked&&!isPaused){var left=e.inputBuffer.getChannelData(0);if(leftchannel.push(new Float32Array(left)),2===numChannels){var right=e.inputBuffer.getChannelData(1);rightchannel.push(new Float32Array(right))}recordingLength+=bufferSize}},volume.connect(scriptprocessornode),scriptprocessornode.connect(context.destination)}function WhammyRecorder(mediaStream){this.start=function(timeSlice){timeSlice=timeSlice||1e3,mediaRecorder=new WhammyRecorderHelper(mediaStream,this);for(var prop in this)\"function\"!=typeof this[prop]&&(mediaRecorder[prop]=this[prop]);mediaRecorder.record(),timeout=setInterval(function(){mediaRecorder.requestData()},timeSlice)},this.stop=function(){mediaRecorder&&(mediaRecorder.stop(),clearTimeout(timeout),this.onstop())},this.onstop=function(){},this.clearOldRecordedFrames=function(){mediaRecorder&&mediaRecorder.clearOldRecordedFrames()},this.pause=function(){mediaRecorder&&mediaRecorder.pause()},this.resume=function(){mediaRecorder&&mediaRecorder.resume()},this.ondataavailable=function(){};var mediaRecorder,timeout}function WhammyRecorderHelper(mediaStream,root){function drawFrames(){if(isPaused)return lastTime=(new Date).getTime(),void setTimeout(drawFrames,500);if(!isStopDrawing){if(requestDataInvoked)return setTimeout(drawFrames,100);var duration=(new Date).getTime()-lastTime;if(!duration)return drawFrames();lastTime=(new Date).getTime(),!self.isHTMLObject&&video.paused&&video.play(),context.drawImage(video,0,0,canvas.width,canvas.height),isStopDrawing||whammy.frames.push({duration:duration,image:canvas.toDataURL(\"image/webp\")}),isOnStartedDrawingNonBlankFramesInvoked||isBlankFrame(whammy.frames[whammy.frames.length-1])||(isOnStartedDrawingNonBlankFramesInvoked=!0,root.onStartedDrawingNonBlankFrames()),setTimeout(drawFrames,10)}}function isBlankFrame(frame,_pixTolerance,_frameTolerance){var localCanvas=document.createElement(\"canvas\");localCanvas.width=canvas.width,localCanvas.height=canvas.height;var matchPixCount,endPixCheck,maxPixCount,context2d=localCanvas.getContext(\"2d\"),sampleColor={r:0,g:0,b:0},maxColorDifference=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),pixTolerance=_pixTolerance&&_pixTolerance>=0&&_pixTolerance<=1?_pixTolerance:0,frameTolerance=_frameTolerance&&_frameTolerance>=0&&_frameTolerance<=1?_frameTolerance:0,image=new Image;image.src=frame.image,context2d.drawImage(image,0,0,canvas.width,canvas.height);var imageData=context2d.getImageData(0,0,canvas.width,canvas.height);matchPixCount=0,endPixCheck=imageData.data.length,maxPixCount=imageData.data.length/4;for(var pix=0;pix<endPixCheck;pix+=4){var currentColor={r:imageData.data[pix],g:imageData.data[pix+1],b:imageData.data[pix+2]},colorDifference=Math.sqrt(Math.pow(currentColor.r-sampleColor.r,2)+Math.pow(currentColor.g-sampleColor.g,2)+Math.pow(currentColor.b-sampleColor.b,2));colorDifference<=maxColorDifference*pixTolerance&&matchPixCount++}return!(maxPixCount-matchPixCount<=maxPixCount*frameTolerance)}function dropBlackFrames(_frames,_framesToCheck,_pixTolerance,_frameTolerance){var localCanvas=document.createElement(\"canvas\");localCanvas.width=canvas.width,localCanvas.height=canvas.height;for(var context2d=localCanvas.getContext(\"2d\"),resultFrames=[],checkUntilNotBlack=_framesToCheck===-1,endCheckFrame=_framesToCheck&&_framesToCheck>0&&_framesToCheck<=_frames.length?_framesToCheck:_frames.length,sampleColor={r:0,g:0,b:0},maxColorDifference=Math.sqrt(Math.pow(255,2)+Math.pow(255,2)+Math.pow(255,2)),pixTolerance=_pixTolerance&&_pixTolerance>=0&&_pixTolerance<=1?_pixTolerance:0,frameTolerance=_frameTolerance&&_frameTolerance>=0&&_frameTolerance<=1?_frameTolerance:0,doNotCheckNext=!1,f=0;f<endCheckFrame;f++){var matchPixCount,endPixCheck,maxPixCount;if(!doNotCheckNext){var image=new Image;image.src=_frames[f].image,context2d.drawImage(image,0,0,canvas.width,canvas.height);var imageData=context2d.getImageData(0,0,canvas.width,canvas.height);matchPixCount=0,endPixCheck=imageData.data.length,maxPixCount=imageData.data.length/4;for(var pix=0;pix<endPixCheck;pix+=4){var currentColor={r:imageData.data[pix],g:imageData.data[pix+1],b:imageData.data[pix+2]},colorDifference=Math.sqrt(Math.pow(currentColor.r-sampleColor.r,2)+Math.pow(currentColor.g-sampleColor.g,2)+Math.pow(currentColor.b-sampleColor.b,2));colorDifference<=maxColorDifference*pixTolerance&&matchPixCount++}}!doNotCheckNext&&maxPixCount-matchPixCount<=maxPixCount*frameTolerance||(checkUntilNotBlack&&(doNotCheckNext=!0),resultFrames.push(_frames[f]))}return resultFrames=resultFrames.concat(_frames.slice(endCheckFrame)),resultFrames.length<=0&&resultFrames.push(_frames[_frames.length-1]),resultFrames}this.record=function(timeSlice){this.width||(this.width=320),this.height||(this.height=240),this.video&&this.video instanceof HTMLVideoElement&&(this.width||(this.width=video.videoWidth||video.clientWidth||320),this.height||(this.height=video.videoHeight||video.clientHeight||240)),this.video||(this.video={width:this.width,height:this.height}),this.canvas&&this.canvas.width&&this.canvas.height||(this.canvas={width:this.width,height:this.height}),canvas.width=this.canvas.width,canvas.height=this.canvas.height,this.video&&this.video instanceof HTMLVideoElement?(this.isHTMLObject=!0,video=this.video.cloneNode()):(video=document.createElement(\"video\"),video.src=URL.createObjectURL(mediaStream),video.width=this.video.width,video.height=this.video.height),video.muted=!0,video.play(),lastTime=(new Date).getTime(),whammy=new Whammy.Video(root.speed,root.quality),console.log(\"canvas resolutions\",canvas.width,\"*\",canvas.height),console.log(\"video width/height\",video.width||canvas.width,\"*\",video.height||canvas.height),drawFrames()},this.clearOldRecordedFrames=function(){whammy.frames=[]};var requestDataInvoked=!1;this.requestData=function(){if(!isPaused){if(!whammy.frames.length)return void(requestDataInvoked=!1);requestDataInvoked=!0;var internalFrames=whammy.frames.slice(0);whammy.frames=dropBlackFrames(internalFrames,-1),whammy.compile(function(whammyBlob){root.ondataavailable(whammyBlob),console.debug(\"video recorded blob size:\",bytesToSize(whammyBlob.size))}),whammy.frames=[],requestDataInvoked=!1}};var isOnStartedDrawingNonBlankFramesInvoked=!1,isStopDrawing=!1;this.stop=function(){isStopDrawing=!0,this.requestData(),this.onstop()};var video,lastTime,whammy,canvas=document.createElement(\"canvas\"),context=canvas.getContext(\"2d\"),self=this,isPaused=!1;this.pause=function(){isPaused=!0},this.resume=function(){isPaused=!1},this.onstop=function(){}}function GifRecorder(mediaStream){function doneRecording(){endTime=Date.now();var gifBlob=new Blob([new Uint8Array(gifEncoder.stream().bin)],{type:\"image/gif\"});self.ondataavailable(gifBlob),gifEncoder.stream().bin=[]}if(\"undefined\"==typeof GIFEncoder)throw\"Please link: https://cdn.webrtc-experiment.com/gif-recorder.js\";this.start=function(timeSlice){function drawVideoFrame(time){return isPaused?void setTimeout(drawVideoFrame,500,time):(lastAnimationFrame=requestAnimationFrame(drawVideoFrame),void 0===typeof lastFrameTime&&(lastFrameTime=time),void(time-lastFrameTime<90||(video.paused&&video.play(),context.drawImage(video,0,0,imageWidth,imageHeight),gifEncoder.addFrame(context),lastFrameTime=time)))}timeSlice=timeSlice||1e3;var imageWidth=this.videoWidth||320,imageHeight=this.videoHeight||240;canvas.width=video.width=imageWidth,canvas.height=video.height=imageHeight,gifEncoder=new GIFEncoder,gifEncoder.setRepeat(0),gifEncoder.setDelay(this.frameRate||this.speed||200),gifEncoder.setQuality(this.quality||1),gifEncoder.start(),startTime=Date.now(),lastAnimationFrame=requestAnimationFrame(drawVideoFrame),timeout=setTimeout(doneRecording,timeSlice)},this.stop=function(){lastAnimationFrame&&(cancelAnimationFrame(lastAnimationFrame),clearTimeout(timeout),doneRecording(),this.onstop())},this.onstop=function(){};var isPaused=!1;this.pause=function(){isPaused=!0},this.resume=function(){isPaused=!1},this.ondataavailable=function(){},this.onstop=function(){};var self=this,canvas=document.createElement(\"canvas\"),context=canvas.getContext(\"2d\"),video=document.createElement(\"video\");video.muted=!0,video.autoplay=!0,video.src=URL.createObjectURL(mediaStream),video.play();var startTime,endTime,lastFrameTime,gifEncoder,timeout,lastAnimationFrame=null}\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.MultiStreamRecorder=MultiStreamRecorder);var browserFakeUserAgent=\"Fake/5.0 (FakeOS) AppleWebKit/123 (KHTML, like Gecko) Fake/12.3.4567.89 Fake/123.45\";!function(that){\"undefined\"==typeof window&&(\"undefined\"==typeof window&&\"undefined\"!=typeof global?(global.navigator={userAgent:browserFakeUserAgent,getUserMedia:function(){}},that.window=global):\"undefined\"==typeof window,\"undefined\"==typeof document&&(that.document={},document.createElement=document.captureStream=document.mozCaptureStream=function(){return{}}),\"undefined\"==typeof location&&(that.location={protocol:\"file:\",href:\"\",hash:\"\"}),\"undefined\"==typeof screen&&(that.screen={width:0,height:0}))}(\"undefined\"!=typeof global?global:window);var AudioContext=window.AudioContext;\"undefined\"==typeof AudioContext&&(\"undefined\"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),\"undefined\"!=typeof mozAudioContext&&(AudioContext=mozAudioContext)),\"undefined\"==typeof window&&(window={});var AudioContext=window.AudioContext;\"undefined\"==typeof AudioContext&&(\"undefined\"!=typeof webkitAudioContext&&(AudioContext=webkitAudioContext),\"undefined\"!=typeof mozAudioContext&&(AudioContext=mozAudioContext));var URL=window.URL;\"undefined\"==typeof URL&&\"undefined\"!=typeof webkitURL&&(URL=webkitURL),\"undefined\"!=typeof navigator?(\"undefined\"!=typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),\"undefined\"!=typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia)):navigator={getUserMedia:function(){},userAgent:browserFakeUserAgent\n};var IsEdge=!(navigator.userAgent.indexOf(\"Edge\")===-1||!navigator.msSaveBlob&&!navigator.msSaveOrOpenBlob),IsOpera=!1;\"undefined\"!=typeof opera&&navigator.userAgent&&navigator.userAgent.indexOf(\"OPR/\")!==-1&&(IsOpera=!0);var IsChrome=!IsEdge&&!IsEdge&&!!navigator.webkitGetUserMedia,MediaStream=window.MediaStream;\"undefined\"==typeof MediaStream&&\"undefined\"!=typeof webkitMediaStream&&(MediaStream=webkitMediaStream),\"undefined\"!=typeof MediaStream&&(\"getVideoTracks\"in MediaStream.prototype||(MediaStream.prototype.getVideoTracks=function(){if(!this.getTracks)return[];var tracks=[];return this.getTracks.forEach(function(track){track.kind.toString().indexOf(\"video\")!==-1&&tracks.push(track)}),tracks},MediaStream.prototype.getAudioTracks=function(){if(!this.getTracks)return[];var tracks=[];return this.getTracks.forEach(function(track){track.kind.toString().indexOf(\"audio\")!==-1&&tracks.push(track)}),tracks}),\"stop\"in MediaStream.prototype||(MediaStream.prototype.stop=function(){this.getAudioTracks().forEach(function(track){track.stop&&track.stop()}),this.getVideoTracks().forEach(function(track){track.stop&&track.stop()})})),\"undefined\"!=typeof location&&0===location.href.indexOf(\"file:\")&&console.error(\"Please load this HTML file on HTTP or HTTPS.\");var ObjectStore={AudioContext:AudioContext};\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.MediaRecorderWrapper=MediaRecorderWrapper),\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.StereoAudioRecorder=StereoAudioRecorder),\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.StereoAudioRecorderHelper=StereoAudioRecorderHelper),\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.WhammyRecorder=WhammyRecorder),\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.WhammyRecorderHelper=WhammyRecorderHelper),\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.GifRecorder=GifRecorder);var Whammy=function(){function WhammyVideo(duration,quality){this.frames=[],duration||(duration=1),this.duration=1e3/duration,this.quality=quality||.8}function processInWebWorker(_function){var blob=URL.createObjectURL(new Blob([_function.toString(),\"this.onmessage =  function (e) {\"+_function.name+\"(e.data);}\"],{type:\"application/javascript\"})),worker=new Worker(blob);return URL.revokeObjectURL(blob),worker}function whammyInWebWorker(frames){function ArrayToWebM(frames){var info=checkFrames(frames);if(!info)return[];for(var clusterMaxDuration=3e4,EBML=[{id:440786851,data:[{data:1,id:17030},{data:1,id:17143},{data:4,id:17138},{data:8,id:17139},{data:\"webm\",id:17026},{data:2,id:17031},{data:2,id:17029}]},{id:408125543,data:[{id:357149030,data:[{data:1e6,id:2807729},{data:\"whammy\",id:19840},{data:\"whammy\",id:22337},{data:doubleToString(info.duration),id:17545}]},{id:374648427,data:[{id:174,data:[{data:1,id:215},{data:1,id:29637},{data:0,id:156},{data:\"und\",id:2274716},{data:\"V_VP8\",id:134},{data:\"VP8\",id:2459272},{data:1,id:131},{id:224,data:[{data:info.width,id:176},{data:info.height,id:186}]}]}]}]}],frameNumber=0,clusterTimecode=0;frameNumber<frames.length;){var clusterFrames=[],clusterDuration=0;do clusterFrames.push(frames[frameNumber]),clusterDuration+=frames[frameNumber].duration,frameNumber++;while(frameNumber<frames.length&&clusterDuration<clusterMaxDuration);var clusterCounter=0,cluster={id:524531317,data:getClusterData(clusterTimecode,clusterCounter,clusterFrames)};EBML[1].data.push(cluster),clusterTimecode+=clusterDuration}return generateEBML(EBML)}function getClusterData(clusterTimecode,clusterCounter,clusterFrames){return[{data:clusterTimecode,id:231}].concat(clusterFrames.map(function(webp){var block=makeSimpleBlock({discardable:0,frame:webp.data.slice(4),invisible:0,keyframe:1,lacing:0,trackNum:1,timecode:Math.round(clusterCounter)});return clusterCounter+=webp.duration,{data:block,id:163}}))}function checkFrames(frames){if(!frames[0])return void postMessage({error:\"Something went wrong. Maybe WebP format is not supported in the current browser.\"});for(var width=frames[0].width,height=frames[0].height,duration=frames[0].duration,i=1;i<frames.length;i++)duration+=frames[i].duration;return{duration:duration,width:width,height:height}}function numToBuffer(num){for(var parts=[];num>0;)parts.push(255&num),num>>=8;return new Uint8Array(parts.reverse())}function strToBuffer(str){return new Uint8Array(str.split(\"\").map(function(e){return e.charCodeAt(0)}))}function bitsToBuffer(bits){var data=[],pad=bits.length%8?new Array(9-bits.length%8).join(\"0\"):\"\";bits=pad+bits;for(var i=0;i<bits.length;i+=8)data.push(parseInt(bits.substr(i,8),2));return new Uint8Array(data)}function generateEBML(json){for(var ebml=[],i=0;i<json.length;i++){var data=json[i].data;\"object\"==typeof data&&(data=generateEBML(data)),\"number\"==typeof data&&(data=bitsToBuffer(data.toString(2))),\"string\"==typeof data&&(data=strToBuffer(data));var len=data.size||data.byteLength||data.length,zeroes=Math.ceil(Math.ceil(Math.log(len)/Math.log(2))/8),sizeToString=len.toString(2),padded=new Array(7*zeroes+7+1-sizeToString.length).join(\"0\")+sizeToString,size=new Array(zeroes).join(\"0\")+\"1\"+padded;ebml.push(numToBuffer(json[i].id)),ebml.push(bitsToBuffer(size)),ebml.push(data)}return new Blob(ebml,{type:\"video/webm\"})}function makeSimpleBlock(data){var flags=0;if(data.keyframe&&(flags|=128),data.invisible&&(flags|=8),data.lacing&&(flags|=data.lacing<<1),data.discardable&&(flags|=1),data.trackNum>127)throw\"TrackNumber > 127 not supported\";var out=[128|data.trackNum,data.timecode>>8,255&data.timecode,flags].map(function(e){return String.fromCharCode(e)}).join(\"\")+data.frame;return out}function parseWebP(riff){for(var VP8=riff.RIFF[0].WEBP[0],frameStart=VP8.indexOf(\"\u0001*\"),i=0,c=[];i<4;i++)c[i]=VP8.charCodeAt(frameStart+3+i);var width,height,tmp;return tmp=c[1]<<8|c[0],width=16383&tmp,tmp=c[3]<<8|c[2],height=16383&tmp,{width:width,height:height,data:VP8,riff:riff}}function getStrLength(string,offset){return parseInt(string.substr(offset+4,4).split(\"\").map(function(i){var unpadded=i.charCodeAt(0).toString(2);return new Array(8-unpadded.length+1).join(\"0\")+unpadded}).join(\"\"),2)}function parseRIFF(string){for(var offset=0,chunks={};offset<string.length;){var id=string.substr(offset,4),len=getStrLength(string,offset),data=string.substr(offset+4+4,len);offset+=8+len,chunks[id]=chunks[id]||[],\"RIFF\"===id||\"LIST\"===id?chunks[id].push(parseRIFF(data)):chunks[id].push(data)}return chunks}function doubleToString(num){return[].slice.call(new Uint8Array(new Float64Array([num]).buffer),0).map(function(e){return String.fromCharCode(e)}).reverse().join(\"\")}var webm=new ArrayToWebM(frames.map(function(frame){var webp=parseWebP(parseRIFF(atob(frame.image.slice(23))));return webp.duration=frame.duration,webp}));postMessage(webm)}return WhammyVideo.prototype.add=function(frame,duration){if(\"canvas\"in frame&&(frame=frame.canvas),\"toDataURL\"in frame&&(frame=frame.toDataURL(\"image/webp\",this.quality)),!/^data:image\\/webp;base64,/gi.test(frame))throw\"Input must be formatted properly as a base64 encoded DataURI of type image/webp\";this.frames.push({image:frame,duration:duration||this.duration})},WhammyVideo.prototype.compile=function(callback){var webWorker=processInWebWorker(whammyInWebWorker);webWorker.onmessage=function(event){return event.data.error?void console.error(event.data.error):void callback(event.data)},webWorker.postMessage(this.frames)},{Video:WhammyVideo}}();\"undefined\"!=typeof MediaStreamRecorder&&(MediaStreamRecorder.Whammy=Whammy),function(){window.ConcatenateBlobs=function(blobs,type,callback){function readAsArrayBuffer(){if(!blobs[index])return concatenateBuffers();var reader=new FileReader;reader.onload=function(event){buffers.push(event.target.result),index++,readAsArrayBuffer()},reader.readAsArrayBuffer(blobs[index])}function concatenateBuffers(){var byteLength=0;buffers.forEach(function(buffer){byteLength+=buffer.byteLength});var tmp=new Uint16Array(byteLength),lastOffset=0;buffers.forEach(function(buffer){var reusableByteLength=buffer.byteLength;reusableByteLength%2!=0&&(buffer=buffer.slice(0,reusableByteLength-1)),tmp.set(new Uint16Array(buffer),lastOffset),lastOffset+=reusableByteLength});var blob=new Blob([tmp.buffer],{type:type});callback(blob)}var buffers=[],index=0;readAsArrayBuffer()}}(),\"undefined\"!=typeof module&&(module.exports=MediaStreamRecorder),\"function\"==typeof define&&define.amd&&define(\"MediaStreamRecorder\",[],function(){return MediaStreamRecorder});","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}